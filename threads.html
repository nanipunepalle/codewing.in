<!DOCTYPE html>
<html>
<head>
	<title>CodeWing.in</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1.0">
	<link rel = "icon" href = "capture.jpg" type = "image/x-icon">
	<link href="index.css" type="text/css" rel="stylesheet">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</head>
<body>
	<div class="jumbotron text-center" style="margin-bottom:0" id="head">
		<h1>CodeWing.in</h1>
		<p>A site for Java programs</p>
	</div>
	<nav class="navbar navbar-expand-sm bg-dark navbar-dark">
		<form class="form-inline"  action="/action_page.php" id="search">
			<input type="search" class="form-control" name="search" placeholder="search">
			<button type="submit" class="btn btn-primary " id="button">Search</button>
		</form>
	</nav>
	<div class="row">
		<div class="col-sm">
			<h5>Implement the Producer-Consumer problem using threads. Synchronize both the threads so that
the consumer consumes only after the producer produces the value, and the producer produces the
new value only if the consumer consumes the previous value produced</h5>
			<br>
			<h2>Code</h2>
			<div id="code" style="padding-left: 20px">
				<code>
					class Q<br>
{<br>
int n;<br>
boolean valueSet = false;<br>
synchronized int get()<br>
{<br>
if(!valueSet)<br>
try<br>
{<br>
wait();<br>
}<br>
catch(InterruptedException e)<br>
{<br>
System.out.println("InterruptedException caught");<br>
}<br>
System.out.println("Got: " + n);<br>
valueSet = false;<br>
notify();<br>
return n;<br>
}<br>
synchronized void put(int n)<br>
{<br>
if(valueSet)<br>
try<br>
{<br>
wait();<br>
}<br>
catch(InterruptedException e)<br>
{<br>
System.out.println("InterruptedException caught")<br>
}<br>
this.n = n;<br>
valueSet = true;<br>
System.out.println("Put: " + n);<br>
notify();<br>
}<br>
}<br>
class Producer implements Runnable<br> 
{<br>
Q q;<br>
Producer(Q q)<br>
{<br>
this.q = q;<br>
new Thread(this, "Producer").start();<br>
}<br>
public void run()<br>
{<br>
int i = 0;<br>
for(int ii=0;ii<10;ii++)<br>
{<br>
q.put(i++);<br>
}<br>
}<br>
}<br>
class Consumer implements Runnable<br>
{<br>
Q q;<br>
Consumer(Q q)<br>
{<br>
this.q = q;<br>
new Thread(this, "Consumer").start();<br>
}<br>
public void run()<br>
{<br>
for(int i=0;i<10;i++)<br>
{<br>
q.get();<br>
}<br>
}<br>
}<br>
class PCFixed<br>
{<br>
public static void main(String args[])<br>
{<br>
Q q = new Q();<br>
new Producer(q);<br>
new Consumer(q);<br>
System.out.println("Press Control-C to stop.");<br>
}<br>
}<br>
				</code>
			</div>
			<h2>Output</h2>
			<br>
			<p id="code"></p>
		</div>
	</div>
	<div class="jumbotron text-center" style="margin-bottom:0" id="footer">
		<p>CodeWing.in</p>
		<p>Made with <img src="lovelogo.png" height="25" width="25"> for programmers</p>
		<p>Contact me at lalithpunepalli@gmail.com</p>
		<p>Follow me @</p>
		<a href="https://www.instagram.com/iamlalith_reddy/" target="-blank"><img src="instagram logo.jpg" height="50" width="50" class="e"></a>
		<a href="https://linkedin.com/in/lalith-reddy-605480167" target="-blank"><img src="linkedinlogo.png" height="50" width="50" class="e"></a>
		<a href="https://twitter.com/iamlalithreddy" target="-blank"><img src="twitterlogo.png" height="50" width="50" class="e"></a>
		<a href="https://www.facebook.com/nanipunepalli" target="-blank"><img src="facebooklogo.png" height="50" width="50" class="e"></a>
	</div>
</body>
</html>